# Prompt 模板与最佳实践

本文档包含 `get-review-theme` skill 使用的 Prompt 模板和主题提取的最佳实践。

## 核心主题提取 Prompt

这是技能使用的主要 Prompt 模板，适用于所有输入类型。

```
请分析以下内容，提取结构化综述主题。

【输入内容】
{提取的内容}

【输出要求】
按以下格式输出：

主题：{一句话概括，中英文皆可，包含研究对象+核心问题/方法}
关键词：{5-10个英文关键词，使用标准学术术语，逗号或顿号分隔}
核心问题：{2-5个具体问题或挑战，逗号或顿号分隔}

【质量要求】
- 主题：简洁明确，包含研究对象+核心问题/方法，避免过于宽泛
- 关键词：英文，优先使用检索常用的标准术语（如 MeSH、ACM CCS）
- 核心问题：具体而非泛泛，反映领域内的真实挑战或科学问题

【输出示例】
示例 1：
主题：临床转录组缺失数据处理方法
关键词：missing data、imputation、unmeasured genes、batch effect、cross-platform normalization
核心问题：平台基因集合差异、未测基因、高缺失率场景

示例 2：
主题：深度学习在医学影像癌症诊断中的应用
关键词：deep learning、medical imaging、cancer diagnosis、computer-aided detection、convolutional neural network
核心问题：小样本学习、模型可解释性、多模态数据融合

示例 3：
主题：Transformer 在自然语言处理机器翻译中的应用
关键词：Transformer、neural machine translation、attention mechanism、seq2seq、pre-training
核心问题：长距离依赖、低资源语言翻译、领域适应
```

## 按输入类型的专用 Prompt

### 自然语言描述

```
请分析以下用户描述，提取结构化综述主题。

【用户描述】
{用户输入的文本}

【分析要点】
1. 识别研究对象（如"医学影像"、"自然语言处理"）
2. 识别核心方法或技术（如"深度学习"、"Transformer"）
3. 识别应用场景或具体问题（如"癌症诊断"、"机器翻译"）
4. 识别隐含的挑战或关注点（如"小样本"、"可解释性"）

【输出要求】
按标准格式输出：主题、关键词、核心问题
```

### PDF/Word 文档

```
请分析以下文档内容，提取结构化综述主题。

【文档内容】
{从文档提取的文本}

【分析要点】
1. 优先从标题、摘要、结论中提取核心信息
2. 识别文档的主要研究对象和方法
3. 识别文档讨论的关键挑战或未来方向
4. 关键词应优先使用文档本身使用的术语

【输出要求】
按标准格式输出：主题、关键词、核心问题
```

### 图片（研究框架图/概念图）

```
请分析以下图片内容，提取结构化综述主题。

【图片内容描述】
{LLM 对图片的理解}

【分析要点】
1. 识别图片展示的主要概念或方法
2. 识别组件之间的关系（如输入-输出、层与层、模块之间）
3. 识别隐含的技术路线或方法论
4. 主题应反映图片展示的完整框架或系统

【输出要求】
按标准格式输出：主题、关键词、核心问题
```

### 网页 URL

```
请分析以下网页内容，提取结构化综述主题。

【网页内容】
{从网页提取的文本}

【分析要点】
1. 忽略导航栏、页脚等无关内容
2. 聚焦于页面的核心内容（如研究描述、项目介绍）
3. 识别网页主题的核心研究领域和方法
4. 关键词应使用标准学术术语

【输出要求】
按标准格式输出：主题、关键词、核心问题
```

### 文件夹（多文件合并）

```
请分析以下文件夹的内容，提取结构化综述主题。

【文件内容汇总】
{从多个文件提取并合并的文本}

【分析要点】
1. 识别跨文件的共同主题或研究对象
2. 识别多个文件共同关注的方法或技术
3. 综合不同文件提到的挑战或问题
4. 主题应反映文件夹的整体研究范围

【输出要求】
按标准格式输出：主题、关键词、核心问题
```

## 主题提取最佳实践

### 1. 主题表述原则

**原则**：研究对象 + 核心问题/方法

| 输入 | ❌ 不好的主题 | ✅ 好的主题 |
|------|-------------|-----------|
| "深度学习在医学影像中的应用" | "深度学习" | "深度学习在医学影像癌症诊断中的应用" |
| "CRISPR 基因编辑" | "基因编辑技术" | "CRISPR 基因编辑技术在遗传病治疗中的应用" |
| "Transformer 模型" | "自然语言处理" | "Transformer 在神经机器翻译中的应用" |

### 2. 关键词选择原则

**原则**：英文标准术语，适合文献检索

| 领域 | ❌ 不好的关键词 | ✅ 好的关键词 |
|------|-------------|-----------|
| 医学影像 | "picture"、"doctor" | "medical imaging"、"cancer diagnosis"、"computer-aided detection" |
| 基因编辑 | "gene change"、"DNA fix" | "CRISPR"、"gene editing"、"genetic disease" |
| 深度学习 | "AI"、"smart" | "deep learning"、"convolutional neural network"、"computer vision" |

### 3. 核心问题识别原则

**原则**：具体而非泛泛，反映真实挑战

| 输入 | ❌ 不好的核心问题 | ✅ 好的核心问题 |
|------|-------------|-----------|
| "深度学习在医学影像中的应用" | "如何做得更好"、"提高准确率" | "小样本学习、模型可解释性、多模态数据融合" |
| "CRISPR 基因编辑" | "安全性问题"、"技术挑战" | "脱靶效应、递送系统效率、免疫反应" |
| "Transformer 模型" | "计算量大"、"需要优化" | "长距离依赖、低资源语言翻译、领域适应" |

## 常见领域的关键词参考

### 医学与生物

**MeSH 术语示例**：
- `medical imaging`、`cancer diagnosis`、`computer-aided detection`
- `gene editing`、`CRISPR-Cas9`、`genetic disease`
- `transcriptomics`、`missing data`、`imputation`

### 计算机科学

**ACM CCS 示例**：
- `deep learning`、`convolutional neural network`、`attention mechanism`
- `natural language processing`、`machine translation`、`Transformer`
- `computer vision`、`object detection`、`image segmentation`

### 数据科学

**常用术语**：
- `batch effect`、`cross-platform normalization`、`data integration`
- `feature selection`、`dimensionality reduction`、`unsupervised learning`
- `causal inference`、`bias correction`、`missing data imputation`

## 错误处理与降级策略

### 场景 1：内容无法理解

**Prompt 调整**：
```
输入内容似乎无法准确提取主题。可能的原因：
1. 内容过于简短或缺少上下文
2. 内容非学术或技术性描述
3. 内容语言不支持（建议中英文）

建议：请提供更多上下文或更具体的描述，包括：
- 研究对象是什么？
- 核心方法或技术是什么？
- 关注的具体问题或挑战是什么？
```

### 场景 2：主题过于宽泛

**Prompt 调整**：
```
提取的主题过于宽泛，不适合作为综述主题。

建议缩小范围的方式：
1. 添加具体应用场景（如"癌症诊断"而非"医学影像"）
2. 添加具体方法（如"卷积神经网络"而非"深度学习"）
3. 添加具体问题（如"小样本学习"而非"性能优化"）

示例调整：
- 宽泛："深度学习研究"
- 适中："深度学习在医学影像中的应用"
- 具体："深度学习在医学影像小样本癌症诊断中的应用"
```

### 场景 3：关键词非标准术语

**Prompt 调整**：
```
部分关键词可能不是标准学术术语，影响文献检索效果。

建议使用标准术语的方式：
1. 查看 MeSH（医学）、ACM CCS（计算机科学）等标准词表
2. 在 PubMed、Web of Science 中搜索相关术语
3. 参考领域内高引论文的关键词

示例调整：
- 非标准："图片分析"、"智能诊断"
- 标准："medical imaging"、"computer-aided detection"
```

## 输出格式化 Prompt

### YAML 格式化

```
请将以下主题信息转换为 YAML 格式：

【主题信息】
{主题、关键词、核心问题}

【输出格式】
```yaml
topic: "{主题}"
keywords:
  - "{关键词1}"
  - "{关键词2}"
  - ...
core_questions:
  - "{问题1}"
  - "{问题2}"
  - ...
```
```

### JSON 格式化

```
请将以下主题信息转换为 JSON 格式：

【主题信息】
{主题、关键词、核心问题}

【输出格式】
```json
{
  "topic": "{主题}",
  "keywords": ["{关键词1}", "{关键词2}", ...],
  "core_questions": ["{问题1}", "{问题2}", ...]
}
```
```

## 质量自检清单

在输出主题前，AI 应自检：

- [ ] 主题是否包含研究对象 + 核心问题/方法？
- [ ] 主题是否简洁明确，适合作为综述标题？
- [ ] 关键词是否为英文标准术语？
- [ ] 关键词数量是否在 5-10 个之间？
- [ ] 核心问题是否具体而非泛泛？
- [ ] 核心问题数量是否在 2-5 个之间？
- [ ] 所有字段是否都已填充？
- [ ] 输出格式是否符合用户要求？
