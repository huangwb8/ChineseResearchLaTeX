# LaTeX Helper - LaTeX 模板辅助技能

## 目标

为本 LaTeX 模板项目提供辅助功能，包括编译检查、格式验证、参考文献管理、模板更新等。

## 触发条件

用户在以下场景触发本技能：
- 需要编译或验证 LaTeX 文档
- 询问 LaTeX 语法或模板使用
- 需要管理参考文献
- 需要更新模板或检查格式一致性

## 核心功能

### 1. 编译检查

检查 LaTeX 文档编译状态，识别常见错误：
- 缺失的包或文件
- 语法错误
- 编译顺序问题

### 2. 格式验证

验证文档格式是否符合项目规范：
- 章节编号一致性
- 参考文献格式
- 图片表格编号

### 3. 参考文献管理

辅助管理 BibTeX 文件：
- 验证 BibTeX 条目格式
- 检查重复引用
- 生成引用统计

### 4. 模板更新

帮助更新模板到最新版本：
- 对比版本差异
- 迁移用户内容
- 保留自定义设置

## 输入参数

| 参数 | 类型 | 必需 | 说明 |
|------|------|------|------|
| project | string | 否 | 项目名称（NSFC_Young/NSFC_General/NSFC_Local） |
| action | string | 是 | 操作类型：compile/validate/bibtex/update |
| file | string | 否 | 特定文件路径 |

## 执行流程

### compile 动作
1. 定位项目目录和 main.tex
2. 检查依赖文件（图片、.bib）
3. 执行 xelatex 编译
4. 返回编译结果或错误信息

### validate 动作
1. 读取文档内容
2. 检查章节结构
3. 验证编号一致性
4. 生成验证报告

### bibtex 动作
1. 定位 .bib 文件
2. 解析 BibTeX 条目
3. 验证格式和必填字段
4. 检查重复和未引用条目

### update 动作
1. 检查当前模板版本
2. 获取最新版本信息
3. 对比差异
4. 提供迁移建议

## 输出规范

### 成功输出
```
✅ 操作成功完成

详细信息：
- 处理文件：main.tex
- 检查项：10/10 通过
- 警告：2 条
```

### 失败输出
```
❌ 操作失败

错误信息：
- 错误类型：编译错误
- 位置：第 42 行
- 建议修复：...
```

## 验证清单

完成操作后检查：
- [ ] LaTeX 文档可成功编译
- [ ] 无未解析的引用
- [ ] 编号连续且正确
- [ ] 参考文献格式正确
- [ ] 辅助文件已清理

## 有机更新原则

1. **理解意图**：用户真正需要的是什么帮助？
2. **定位生态位**：这个功能在整个工作流中的位置
3. **协调更新**：同步更新相关配置和文档
4. **保持一致性**：术语、格式与项目规范统一
