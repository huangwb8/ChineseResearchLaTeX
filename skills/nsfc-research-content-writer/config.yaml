# ================================
# nsfc-research-content-writer 默认配置
# ================================

skill_info:
  name: nsfc-research-content-writer
  version: 0.2.3
  # template_year: 移除年份限制，使技能适用于不同年份的 NSFC 模板
  description: NSFC 标书正文“（二）研究内容”写作/重构，并同步编排“特色与创新”“三年年度研究计划”，输出 2.1/2.2/2.3 三份 extraTex 文件
  category: writing
  author: "Bensz Conan"

parameters:
  project_root:
    type: string
    required: true
    description: 项目根目录（如 projects/NSFC_Young 或你的标书项目路径）
  output_mode:
    type: string
    required: false
    default: apply
    allowed_values: [preview, apply]

targets:
  research_content_tex: extraTex/2.1.研究内容.tex
  innovation_tex: extraTex/2.2.特色与创新.tex
  yearly_plan_tex: extraTex/2.3.年度研究计划.tex

guardrails:
  allowed_write_files:
    - extraTex/2.1.研究内容.tex
    - extraTex/2.2.特色与创新.tex
    - extraTex/2.3.年度研究计划.tex
  forbidden_write_files:
    - main.tex
    - extraTex/@config.tex
  forbidden_write_globs:
    - "**/*.cls"
    - "**/*.sty"

quality_contract:
  research_content_must_cover:
    - 研究问题与总体目标
    - 3–4 个可检验子目标（指标/对照/数据来源）
    - 研究内容与任务分解（对齐子目标）
    - 技术路线与验证口径（防泄漏/对照/消融/统计）
  innovation_must_be:
    - 可理解（评审能看懂）
    - 可对照（相对坐标系）
    - 可验证（至少有指标或验证实验）
  yearly_plan_must_include:
    - 三年分年任务（不跨年）
    - 里程碑与可交付成果（每年都有）

# scripts/check_project_outputs.py 的轻量自检参数（可选覆盖默认值）
checks:
  # 绝对化措辞：通常建议避免；脚本可扫描并给出 WARN/ERROR（见 --fail-on-risk-phrases）
  risk_phrases:
    - 首次
    - 领先
    - 填补空白
    - 突破性
    - 国际领先
    - 世界领先
  # 研究内容里至少出现多少个子目标标记（默认 3）：S1/S2/S3（可多于 3）
  subgoal_markers_min: 3
