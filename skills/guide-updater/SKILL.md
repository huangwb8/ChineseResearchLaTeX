---
name: guide-updater
description: 将对话中新产生的可复用写作洞见实时沉淀到项目指南文件，保持术语口径一致、结构稳定、可检验与可复现。调用时必须指定指南文件路径。用于用户要求"更新项目指南/同步指南/沉淀洞见到指南"等场景。
metadata:
  short-description: 项目指南实时更新器
  keywords:
    - 项目指南
    - 写作洞见
    - 知识沉淀
    - 术语一致
    - 指南更新
  triggers:
    - 更新项目指南
    - 同步指南
    - 沉淀到指南
    - guide updater
config: skills/guide-updater/config.yaml
---

# 项目指南更新器

将对话中新产生的可复用写作洞见实时沉淀到项目指南文件，保持术语口径一致、结构稳定、可检验与可复现。

## 使用方式

调用此技能时，**必须**在参数中指定指南文件路径：

```
/guide-updater --guide-path <路径>
```

或自然语言形式：
- "更新项目指南（路径：projects/MyProject/项目指南.md）"
- "把这些内容同步到指南文件 docs/写作指南.md"

## 先决条件

每次更新前快速自检：

- 不新增新的 `##` 级标题；只在既有小节/列表中"融入"新增要点。
- 不改动既有标题文本、编号、顺序；不为"整理美观"重排大量内容。
- 新增内容默认写成 1 条或少量 bullet，紧贴相邻条目的写法与语气。
- 涉及事实/文献：只写可核验信息；无法核验则标注"待核验"，不要编造详细信息。

## 抽取"原子洞见"

- 将用户表达拆成若干条"可落笔"的要点，每条只包含一个主张/规则/写法。
- 为每条要点附 1 句"写进指南的目的"（例如：统一口径/防评审质疑/可复现/风险控制）。

## 选择融入位置

- 需要更细的落点规则时，先读 `skills/guide-updater/references/guide-structure-map.md` 再动手。
- 写作原则/禁区/句式 → `## 写作哲学`
- 术语、缩写、大小写、核心概念定义 → `## 命名与术语`
- 方法链条、验证口径、评估指标 → `## 基本原理`
- 范式定位、对照坐标系、差异化要点 → `## 文献综述与创新性`
- 具体写到哪一节（文档结构映射） → `## 落点清单`
- 评审问答口径 → `## 评审专家可能的问题及回答`
- 风险与对策 → `## 研究风险`
- "可核验事实锚点"（源码、参数、流程） → `## 附录`

不确定放哪：优先放到"最能减少未来写作返工"的位置；仍不确定就先问用户"更希望作为写作哲学/技术路线/风险控制哪一类沉淀？"再改文件。

## 以最小补丁写入

- 只做"增量补丁"：新增 1--3 条 bullet 或在既有 bullet 末尾补 1 句澄清。
- 不新开大段长文；如果洞见很大，先拆成多个 bullet 分散落在对应小节。
- 与已有术语保持一致（参考项目既有术语表）。

## 更新后校验

- 运行 `python skills/guide-updater/scripts/validate_guide.py <指南文件路径>`（或手动确认关键 `##` 标题仍存在）。
- 搜索是否意外新增 `##` 级标题或引入"另起炉灶"的新结构。

## Resources

| 目录 | 用途 |
|------|------|
| `scripts/` | 校验 `项目指南.md` 是否保持关键结构与必要标题 |
| `references/` | 记录结构映射与落点规则，避免反复判断放置位置 |
